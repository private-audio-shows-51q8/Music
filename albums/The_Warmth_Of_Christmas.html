<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noindex, nofollow">
<title>The Warmth Of Christmas</title>

<style>
body {
  background:#111;
  color:#eee;
  font-family:Arial;
  text-align:center;
  font-size:clamp(14px, 2vw, 18px);
}

  .album {
  max-width:90%;
  margin:auto;
  padding:10px;
}
  
.cover {
  width:100%;
  max-width:500px;
  border-radius:10px;
}

/* Tablets */
@media (min-width: 600px) {
  .cover {
    max-width:400px;
  }
}

/* Ordenadores */
@media (min-width: 1024px) {
  .cover {
    max-width:300px;
  }
}

  
.track {
  display:flex;
  align-items:center;
  cursor:pointer;
  padding:8px;
  border-bottom:1px solid #333;
}
  
.track img {
  width:12vw;
  max-width:40px;
  margin-right:10px;
}
  
.track:hover {
  background:#222;
}
audio {
  width:100%;
  margin-top:15px;
}
a.download {
  color:#0b84ff;
  display:block;
  margin-top:8px;
}

  .album-title {
  font-size: 85%; /* 20% m√°s peque√±o */
  margin-top: 10px;
}

/* MINI‚ÄëPLAYER ESTILO SPOTIFY */
#floating-player {
  position: fixed;
  bottom: -140px;
  left: 0;
  width: 100%;
  background: rgba(0,0,0,0.6); /* fallback con 60% transparencia */
  backdrop-filter: blur(14px);
  padding: 14px 18px;
  box-sizing: border-box;
  box-shadow: 0 -2px 15px rgba(0,0,0,0.6);
  transition: bottom 0.35s ease;
  z-index: 999;
  border-top: 1px solid rgba(255,255,255,0.1);
}



.fp-content {
  display: flex;
  align-items: center;
  gap: 12px;
}

#fp-cover {
  width: 55px;
  height: 55px;
  border-radius: 6px;
  object-fit: cover;
}

.fp-text {
  flex: 1;
  text-align: left;
  font-size: 14px;
}

#fp-title {
  font-weight: bold;
  color: #fff;
}

#fp-close {
  background: transparent;
  border: none;
  color: #fff;
  font-size: 22px;
  cursor: pointer;
  padding: 0 8px;
}

#floating-player audio {
  width: 100%;
  margin-top: 8px;
  border-radius: 6px;
}

  /* Animaci√≥n de salida del t√≠tulo */
.fp-title-exit {
  animation: titleExit 0.35s forwards ease;
}

@keyframes titleExit {
  0% { opacity: 1; transform: translateX(0); }
  100% { opacity: 0; transform: translateX(-30px); }
}

/* Animaci√≥n de entrada del nuevo t√≠tulo */
.fp-title-enter {
  animation: titleEnter 0.35s forwards ease;
}

@keyframes titleEnter {
  0% { opacity: 0; transform: translateX(30px); }
  100% { opacity: 1; transform: translateX(0); }
}

  #fp-progress-container {
  width: 100%;
  height: 6px;
  background: rgba(255,255,255,0.15);
  border-radius: 3px;
  margin-top: 10px;
  cursor: pointer;
  overflow: hidden;
}

#fp-progress {
  width: 0%;
  height: 100%;
  background: rgba(255,255,255,0.6); /* se actualizar√° con el gradiente din√°mico */
  transition: width 0.1s linear;
}

#fp-prev, #fp-next {
  background: transparent;
  border: none;
  color: white;
  font-size: 22px;
  cursor: pointer;
  margin-left: 10px;
}

  #floating-player.expanded {
  height: 80vh;
  border-radius: 20px 20px 0 0;
  padding-top: 30px;
  transition: all 0.4s ease;
}

  
</style>
  

</head>

<body>

<div class="album">

  <!-- PORTADA -->
<img class="cover" src="../img/portadaWarmthOfChristmas.png">

<h1 class="album-title">The Warmth Of Christmas</h1>
  

<!-- CANCI√ìN 1 --> 
<div class="track"> 
  <div class="track-info" onclick="playIndex(0)"> 
    <img src="../img/portadaWarmthOfChristmas.png"> 
    So This Is Christmas 
</div>
<a class="download-btn" 
  href="https://github.com/private-audio-shows-51q8/Music/releases/download/warmth_of_christmas/01.So.This.Is.Christmas.MP3" 
  download>
Descargar
</a> 
</div>

  
<!-- CANCI√ìN 2 --> 
<div class="track"> 
  <div class="track-info" onclick="playIndex(1)">
    <img src="../img/portadaWarmthOfChristmas.png"> 
    The Warmth Of Christmas 
</div>
<a class="download-btn" 
  href="https://github.com/private-audio-shows-51q8/Music/releases/download/warmth_of_christmas/02.The.Warmth.Of.Christmas.MP3" 
  download>
Descargar
</a> 
</div>

<script>

const playlist = [
  {
    file: "01._So_This_Is_Christmas.MP3",
    title: "So This Is Christmas",
    cover: "../img/portadaWarmthOfChristmas.png"
  },
  {
    file: "02.%20The%20Warmth%20Of%20Christmas.MP3",
    title: "The Warmth Of Christmas",
    cover: "../img/portadaWarmthOfChristmas.png"
  }
];

let currentIndex = 0;



/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   REPRODUCIR CANCI√ìN POR √çNDICE
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function playIndex(i){
  currentIndex = i;

  const track = playlist[i];
  const player = document.getElementById('player');
  const bar = document.getElementById('floating-player');
  const title = document.getElementById('fp-title');
  const cover = document.getElementById('fp-cover');

  // Actualiza audio
  player.src = "../audio/Warmth_Of_Christmas/" + track.file;
  player.play();

  // Animaci√≥n del t√≠tulo
  title.classList.remove("fp-title-enter");
  title.classList.add("fp-title-exit");

  setTimeout(() => {
    title.textContent = track.title;
    title.classList.remove("fp-title-exit");
    title.classList.add("fp-title-enter");
  }, 200);

  // Actualiza portada
  cover.src = track.cover;

  // Gradiente din√°mico
  setDynamicGradient(track.cover);

  // Mostrar reproductor
  bar.style.bottom = "0px";
}



/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   CERRAR REPRODUCTOR
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function closePlayer(){
  const bar = document.getElementById('floating-player');
  const player = document.getElementById('player');

  player.pause();

  // Oculta completamente seg√∫n altura real
  const height = bar.offsetHeight;
  bar.style.bottom = `-${height}px`;
}



/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   GRADIENTE DIN√ÅMICO SEG√öN PORTADA
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function setDynamicGradient(imageSrc){
  const playerBar = document.getElementById('floating-player');

  const img = new Image();
  img.crossOrigin = "anonymous";
  img.src = imageSrc;

  img.onload = function(){
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");

    canvas.width = img.width;
    canvas.height = img.height;
    ctx.drawImage(img, 0, 0);

    const c1 = ctx.getImageData(10, 10, 1, 1).data;
    const c2 = ctx.getImageData(img.width/2, img.height/2, 1, 1).data;
    const c3 = ctx.getImageData(img.width-10, img.height-10, 1, 1).data;

    const col1 = `rgba(${c1[0]}, ${c1[1]}, ${c1[2]}, 0.6)`;
    const col2 = `rgba(${c2[0]}, ${c2[1]}, ${c2[2]}, 0.6)`;
    const col3 = `rgba(${c3[0]}, ${c3[1]}, ${c3[2]}, 0.6)`;

    playerBar.style.background =
      `linear-gradient(135deg, ${col1}, ${col2}, ${col3})`;
  };
}



/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   BARRA DE PROGRESO PERSONALIZADA
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const player = document.getElementById("player");

player.addEventListener("timeupdate", () => {
  const percent = (player.currentTime / player.duration) * 100;
  document.getElementById("fp-progress").style.width = percent + "%";
});

document.getElementById("fp-progress-container").addEventListener("click", (e) => {
  const rect = e.target.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const percent = x / rect.width;
  player.currentTime = percent * player.duration;
});



/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   SIGUIENTE / ANTERIOR
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function nextTrack(){
  currentIndex = (currentIndex + 1) % playlist.length;
  playIndex(currentIndex);
}

function prevTrack(){
  currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
  playIndex(currentIndex);
}



/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   REPETIR / ALEATORIO
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
let repeat = false;
let shuffle = false;

function toggleRepeat(){
  repeat = !repeat;
  document.getElementById("fp-repeat").style.opacity = repeat ? 1 : 0.4;
}

function toggleShuffle(){
  shuffle = !shuffle;
  document.getElementById("fp-shuffle").style.opacity = shuffle ? 1 : 0.4;
}

player.addEventListener("ended", () => {
  if(repeat){
    playIndex(currentIndex);
    return;
  }

  if(shuffle){
    currentIndex = Math.floor(Math.random() * playlist.length);
    playIndex(currentIndex);
    return;
  }

  nextTrack();
});



/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   EXPANDIR MINI‚ÄëPLAYER
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
document.getElementById("floating-player").addEventListener("click", (e) => {
  if(e.target.id === "fp-close") return;
  e.currentTarget.classList.toggle("expanded");
});

</script>

  
<div id="floating-player">
  <div class="fp-content">
    <img id="fp-cover" src="../img/portadaWarmthOfChristmas.png">
    <div class="fp-text">
      <div id="fp-title">Reproduciendo...</div>
    </div>
    <button id="fp-close" onclick="closePlayer()">‚úï</button>
    <button id="fp-prev" onclick="prevTrack()">‚èÆ</button>
    <button id="fp-next" onclick="nextTrack()">‚è≠</button>
    <button id="fp-repeat" onclick="toggleRepeat()">üîÅ</button>
    <button id="fp-shuffle" onclick="toggleShuffle()">üîÄ</button>


  </div>
<audio id="player"></audio>

<div id="fp-progress-container">
  <div id="fp-progress"></div>
</div>

</div>

</body>
</html>

